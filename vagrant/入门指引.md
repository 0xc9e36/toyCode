# vagrant入门

## vagrant 简介
&emsp;&emsp;我们在开发时，经常遇到本地和线上环境的配置不一样的情况，本地跑到好好把代码放到线上，可能就报 bug 了，所以我们一般使用虚拟机开发，虚拟环境和正式完全环境一致，在本机开发的代码，同步到虚拟机里面执行。而vagrant就是这样一个用来同步环境工具。

## 安装 (ubuntu 14.04)
vagrant只是一个创建虚拟机环境的工具，我们首先需要安装虚拟机软件 VirtualBox，不过这两个东西版本搭配有讲究。

```
sudo apt-get install VirtualBox-４.3 
```

接着安装 vagrant    

```
sudo apt-get install vagrant
```
输入 vatrant -v ，如果安装成功，就会看到版本号啦。


## 配置
[vagrantbox.es](http://www.vagrantbox.es/)　里面有许多打包好了的操作系统，称为　box，我们没有必要从头装一个，直接下载满足需要的的就好了。

* 目录结构

```
├── boxes
│   └── development_2016_04_12_02_46_24.box
├── data
│   ├── beibei
│   └── 请自行将代码检出到 beibei 文件夹.txt
└── vagrant
    ├── 17monipdb.dat
    ├── init.bat
    ├── init.sh
    ├── qconf.so
    └── Vagrantfile
```

创建以上目录结构     
1. boxes　目录下的 box　文件是我提前下载好的，在线安装太慢了    
2. data 目录下存放我们的程序代码    
3. vagrant 是开发环境目录

下面切换到 vagrant 目录下面：

```
vagrant box add 'beibei_development' ../boxes/development_2016_04_12_02_46_24.box   //添加一个box（也可以在线下载）
```

初始化，并且指定名字
```
vagrant init "beibei_development"
```
这时目录下面就会生成 Vagrantfile 文件，里面有很多配置信息。


启动虚拟机
```
vagrant up   
```

可能出现的错误，参考：
https://github.com/xdissent/ievms/issues/171



